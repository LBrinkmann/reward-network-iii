FROM tiangolo/uvicorn-gunicorn-fastapi:python3.9
# SEE: https://github.com/tiangolo/uvicorn-gunicorn-fastapi-docker

WORKDIR /backend

COPY ./requirements.txt /backend/requirements.txt

RUN pip install --no-cache-dir --upgrade -r /backend/requirements.txt

COPY setup.py /backend/setup.py
RUN pip install --no-deps /backend

copy ./experiments.yml /backend/experiments.yml

COPY ./app /backend/app